<? namespace Bitrix\Landing;$GLOBALS['____42383699']= array(base64_decode('Z'.'GVm'.'aW5l'),base64_decode('ZXh'.'wbG9kZQ=='),base64_decode('c'.'GFj'.'aw=='),base64_decode('bWQ1'),base64_decode('Y29uc3RhbnQ='),base64_decode('a'.'GFzaF9obWFj'),base64_decode('c3RyY'.'21w'),base64_decode('Z'.'X'.'hwb'.'G9k'.'ZQ='.'='),base64_decode('bWt0aW1l'),base64_decode('d'.'Glt'.'ZQ=='),base64_decode('ZXhwbG9kZQ=='),base64_decode('cGFjaw='.'='),base64_decode('bWQ1'),base64_decode('Y'.'29'.'uc3RhbnQ='),base64_decode('aG'.'Fz'.'aF9'.'obWFj'),base64_decode('c3RyY21'.'w'),base64_decode(''.'ZXhwbG9kZQ=='),base64_decode('bWt0aW1l'),base64_decode('d'.'GltZQ'.'='.'='),base64_decode(''.'a'.'W5f'.'Y'.'XJ'.'yYX'.'k='),base64_decode('c'.'HJlZ19'.'yZX'.'BsY'.'WNlX2NhbGxiYW'.'Nr'),base64_decode('c'.'3'.'RydG'.'9'.'sb'.'3dlcg'.'=='),base64_decode(''.'c'.'HJlZ1'.'9'.'tY'.'X'.'RjaA='.'='),base64_decode('cHJlZ1'.'9yZX'.'B'.'sYWNlX2NhbGxiYWNr'));if(!function_exists(__NAMESPACE__.'\\___1096046369')){function ___1096046369($_2139915824){static $_1585779256= false; if($_1585779256 == false) $_1585779256=array('TEF'.'OR'.'El'.'OR19N'.'VV'.'R'.'BVE'.'9SX01PRE'.'U=','bGFuZGluZw'.'==','b25MYW5kaW5n'.'UHVibGljYXRpb24=','a'.'W'.'Q=','R'.'E'.'I=',''.'U'.'0'.'VMR'.'U'.'NUIFZBTFVF'.'IEZS'.'T00gYl9vcHRpb24gV0h'.'FUkUgT'.'kFNRT0nflBB'.'UkF'.'NX0ZJTklTSF'.'9EQVRFJ'.'yBBTkQ'.'gT'.'U9EVUxFX0lEP'.'Sd'.'tY'.'W'.'l'.'u'.'JyBB'.'Tk'.'QgU0lURV'.'9JRCB'.'JUy'.'BOVUx'.'M','VkF'.'MVUU=','L'.'g'.'==','SCo=','Y'.'ml0'.'c'.'ml4','TElDRU5TRV9LR'.'Vk=','c'.'2hh'.'MjU2',''.'MjAxOC0wM'.'S0wMQ='.'=','MjAx'.'O'.'C0wMS0wMQ==','LQ==',''.'T'.'El'.'DRU5TRV9FWFBJUkVE',''.'T'.'E'.'FORE'.'l'.'OR19MSUNFTl'.'NF'.'X0VYUE'.'lSRUQ=','RE'.'I=','U0VMRUNUIFZBTFVFI'.'EZST00gY'.'l9vcH'.'Rpb24gV0hF'.'Uk'.'UgTkFNR'.'T0nflB'.'BUkF'.'NX0'.'ZJTklTSF9EQVRF'.'JyBBT'.'kQgTU9'.'EVU'.'x'.'FX0lEPSd'.'tYW'.'lu'.'JyBB'.'T'.'kQgU0lURV'.'9JR'.'CBJUyBOVU'.'xM','Vk'.'FMVU'.'U=','Lg'.'==',''.'SCo'.'=','Yml0cml4','TElDRU5TRV9LR'.'Vk=','c2hhMjU2',''.'MjAxOC0wMS0w'.'MQ==','Mj'.'AxO'.'C0wMS0w'.'M'.'Q==','LQ'.'==',''.'T'.'ElDR'.'U5T'.'RV9'.'F'.'WFBJ'.'U'.'kVE','T'.'EFORElOR19MSU'.'N'.'FTlNFX'.'0VY'.'U'.'E'.'lSRU'.'Q=','UF'.'VCTE'.'lD',''.'WQ==','R'.'EFURV9N'.'T0RJRl'.'k=',''.'REFURV9'.'QVUJMSUM=',''.'L'.'yI'.'jY'.'mxvY2soW'.'1xkXSs'.'pIi9pcw==','c'.'2VsZWN0',''.'SU'.'Q=','UFVCTElD','UE'.'F'.'SRU5UX0lE','Q09'.'ERQ==','U09SVA'.'==','QU'.'N'.'USVZF','QU'.'NDRVN'.'T',''.'Q09O'.'VE'.'VO'.'V'.'A==','Zmls'.'dGVy','TE'.'lE',''.'P'.'URFTE'.'VU'.'RUQ=','Tg'.'='.'=','SU'.'Q=','UFV'.'C'.'TE'.'lD','W'.'Q'.'='.'=','Q09OVEVOVA='.'=','L2h'.'yZWZc'.'PSIj'.'Y2F0Y'.'W'.'xvZyhFbGVtZW'.'50fFNlY3Rpb24p'.'KFtcZ'.'F0'.'rKSIvaQ==','aH'.'J'.'lZ'.'j'.'0i',''.'Ig==','Q09'.'O'.'VEVOVA'.'==','UEFSRU5UX0'.'lE','UEFS'.'R'.'U5'.'UX0lE','SUQ=','U'.'09'.'S'.'VA==',''.'U09SVA==','Q'.'UNUSV'.'ZF','QUNUS'.'VZ'.'F','QUNDRVNT','QUNDRV'.'NT','Q09OVEVOVA==','Q09OVEVOVA==','UEF'.'S'.'RU5'.'UX'.'0lE','Q09OVEVOVA==',''.'TElE',''.'Q'.'09'.'ERQ='.'=',''.'Q09ERQ='.'=','U09SVA==','U0'.'9'.'SVA'.'==','Q'.'UNUS'.'VZ'.'F','QUNUSVZ'.'F','QUND'.'RV'.'NT',''.'Q'.'UN'.'D'.'RVNT','Q09O'.'VEVOVA==',''.'Q09'.'OVEVOVA==',''.'UEFSR'.'U5UX0lE','Q09'.'OVEV'.'OV'.'A='.'=','Q09OVE'.'VOVA==','Q09OVEVOVA==','I'.'i'.'Ni'.'bG9jaw==','I'.'g==',''.'I'.'i'.'Nib'.'G9jaw==','Ig'.'==','Q09OVEVOVA='.'=');return base64_decode($_1585779256[$_2139915824]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____42383699'][0](___1096046369(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_559306041= array();  $_1490994786= new Event(___1096046369(1), ___1096046369(2), array( ___1096046369(3) => $landing->getId())); $_1490994786->send(); foreach($_1490994786->getResults() as $_133618204){ if($_133618204->getResultType() == EventResult::ERROR){ foreach($_133618204->getErrors() as $_2074513582){ $landing->getError()->addError( $_2074513582->getCode(), $_2074513582->getMessage());} return false;}} $_335994476= $GLOBALS[___1096046369(4)]->Query(___1096046369(5), true); if($_1249413292= $_335994476->Fetch()){ $_310741275= $_1249413292[___1096046369(6)]; list($_636080548, $_1695108926)= $GLOBALS['____42383699'][1](___1096046369(7), $_310741275); $_172151726= $GLOBALS['____42383699'][2](___1096046369(8), $_636080548); $_743697840= ___1096046369(9).$GLOBALS['____42383699'][3]($GLOBALS['____42383699'][4](___1096046369(10))); $_703008050= $GLOBALS['____42383699'][5](___1096046369(11), $_1695108926, $_743697840, true); if($GLOBALS['____42383699'][6]($_703008050, $_172151726) !==(226*2-452)){ $_1695108926= ___1096046369(12);}} else{ $_1695108926= ___1096046369(13);} if(!empty($_1695108926)){ $_1225747606= $GLOBALS['____42383699'][7](___1096046369(14), $_1695108926); $_153049203= $GLOBALS['____42383699'][8]((168*2-336),(954-2*477),(1152/2-576), $_1225747606[round(0+1)], $_1225747606[round(0+0.4+0.4+0.4+0.4+0.4)], $_1225747606[(245*2-490)]); if($_153049203 <= $GLOBALS['____42383699'][9]()){ $landing->getError()->addError( ___1096046369(15), Loc::getMessage(___1096046369(16))); return false;}} $_335994476= $GLOBALS[___1096046369(17)]->Query(___1096046369(18), true); if($_1249413292= $_335994476->Fetch()){ $_310741275= $_1249413292[___1096046369(19)]; list($_636080548, $_1695108926)= $GLOBALS['____42383699'][10](___1096046369(20), $_310741275); $_172151726= $GLOBALS['____42383699'][11](___1096046369(21), $_636080548); $_743697840= ___1096046369(22).$GLOBALS['____42383699'][12]($GLOBALS['____42383699'][13](___1096046369(23))); $_703008050= $GLOBALS['____42383699'][14](___1096046369(24), $_1695108926, $_743697840, true); if($GLOBALS['____42383699'][15]($_703008050, $_172151726) !==(156*2-312)){ $_1695108926= ___1096046369(25);}} else{ $_1695108926= ___1096046369(26);} if(!empty($_1695108926)){ $_1225747606= $GLOBALS['____42383699'][16](___1096046369(27), $_1695108926); $_153049203= $GLOBALS['____42383699'][17]((864-2*432),(838-2*419),(1256/2-628), $_1225747606[round(0+1)], $_1225747606[round(0+1+1)], $_1225747606[(864-2*432)]); if($_153049203 <= $GLOBALS['____42383699'][18]()){ $landing->getError()->addError( ___1096046369(28), Loc::getMessage(___1096046369(29))); return false;}}  Block::publicationBlocks($landing); $_421417941= new \Bitrix\Main\Type\DateTime; $_1249413292= Landing::update($landing->getId(), array( ___1096046369(30) => ___1096046369(31), ___1096046369(32) => $_421417941, ___1096046369(33) => $_421417941));  if($_1249413292->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____42383699'][19]($landing->getSiteId(), $_559306041)){ $_559306041[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array());} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1560890780= $landing->getId(); $_562728302= array(); $_1700985940= array(); $_247675004= array(); $_1863434373= ___1096046369(34); $_1249413292= Block::getList(array( ___1096046369(35) => array( ___1096046369(36), ___1096046369(37), ___1096046369(38), ___1096046369(39), ___1096046369(40), ___1096046369(41), ___1096046369(42), ___1096046369(43)), ___1096046369(44) => array( ___1096046369(45) => $landing->getId(), ___1096046369(46) => ___1096046369(47)))); while($_674363700= $_1249413292->fetch()){ $_562728302[$_674363700[___1096046369(48)]]= $_674363700;}  foreach($_562728302 as $_816994391 => $_1337019437){ if($_1337019437[___1096046369(49)] != ___1096046369(50)){  $_1337019437[___1096046369(51)]= $GLOBALS['____42383699'][20]( ___1096046369(52), function($_1463731298){ return ___1096046369(53). PublicAction\Utils::getIblockURL( $_1463731298[round(0+0.4+0.4+0.4+0.4+0.4)], $GLOBALS['____42383699'][21]($_1463731298[round(0+1)])). ___1096046369(54);}, $_1337019437[___1096046369(55)]); $_1638043970= isset($_562728302[$_1337019437[___1096046369(56)]])? $_562728302[$_1337019437[___1096046369(57)]][___1096046369(58)]:(197*2-394); if($_1638043970){ Block::update($_1638043970, array( ___1096046369(59) => $_1337019437[___1096046369(60)], ___1096046369(61) => $_1337019437[___1096046369(62)], ___1096046369(63) => $_1337019437[___1096046369(64)], ___1096046369(65) => $_1337019437[___1096046369(66)])); unset($_562728302[$_1337019437[___1096046369(67)]]);  File::replaceInBlock( $_1638043970, File::getFilesFromBlockContent( $_816994391, $_1337019437[___1096046369(68)]));} else{ $_1249413292= Block::add(array( ___1096046369(69) => $_1560890780, ___1096046369(70) => $_1337019437[___1096046369(71)], ___1096046369(72) => $_1337019437[___1096046369(73)], ___1096046369(74) => $_1337019437[___1096046369(75)], ___1096046369(76) => $_1337019437[___1096046369(77)], ___1096046369(78) => $_1337019437[___1096046369(79)])); if($_1249413292->isSuccess()){ $_1638043970= $_1249413292->getId(); Block::update($_816994391, array( ___1096046369(80) => $_1638043970));  File::addToBlock( $_1638043970, File::getFilesFromBlockContent( $_816994391, $_1337019437[___1096046369(81)]));}} if($GLOBALS['____42383699'][22]($_1863434373, $_1337019437[___1096046369(82)])){ $_1700985940[$_1638043970]= $_1337019437[___1096046369(83)];} $_247675004[$_816994391]= $_1638043970; unset($_562728302[$_816994391]);}}  foreach($_562728302 as $_816994391 => $_1337019437){ Block::delete($_816994391);}  foreach($_1700985940 as $_816994391 => $_272988670){ $_272988670= $GLOBALS['____42383699'][23]( $_1863434373, function($_273214) use($_247675004){ if(isset($_247675004[$_273214[round(0+0.5+0.5)]])){ return ___1096046369(84). $_247675004[$_273214[round(0+0.2+0.2+0.2+0.2+0.2)]]. ___1096046369(85);} else{ return ___1096046369(86). $_273214[round(0+0.25+0.25+0.25+0.25)]. ___1096046369(87);}}, $_272988670); Block::update($_816994391, array( ___1096046369(88) => $_272988670));}}}}?>